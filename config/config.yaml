# Genesis Framework Configuration
app:
  name:        "genesis"
  version:     "1.0.0"
  environment: "development"
  debug:       true


# MySQL Configuration
mysql:
  host:          "localhost"
  port:          3306
  username:      "${MYSQL_USER}"
  password:      "${MYSQL_PASSWORD}"
  database:      "${MYSQL_DATABASE}"
  charset:       "utf8mb4"
  timeout:       "10s"
  max_open_conns: 50
  max_idle_conns: 10
  max_lifetime:   "1h"


# Redis Configuration
redis:
  addr:           "localhost:6379"
  password:       "${REDIS_PASSWORD}"
  db:             0
  max_retries:    3
  pool_size:      100
  min_idle_conns: 10
  dial_timeout:   "5s"
  read_timeout:   "3s"
  write_timeout:  "3s"


# Cache Configuration
cache:
  redis:
    addr:           "localhost:6379"
    password:       "${REDIS_PASSWORD}"
    db:             1
    max_retries:    3
    pool_size:      50
    min_idle_conns: 5
    dial_timeout:   "5s"
    read_timeout:   "3s"
    write_timeout:  "3s"
  prefix:         "genesis:cache:"
  serializer:     "msgpack"
  default_ttl:    "1h"
  max_key_length: 250
  compression:    true
  compression_threshold: 1024


# NATS 配置
nats:
  urls:            ["nats://localhost:4222"]
  name:            "genesis-nats"
  reconnect_wait:  "2s"
  max_reconnects:  60
  ping_interval:   "2m"
  max_pings_out:   2
  timeout:         "5s"


# Etcd 配置
etcd:
  endpoints:          ["localhost:2379"]
  username:           ""
  password:           ""
  timeout:            "5s"
  keep_alive_time:    "10s"
  keep_alive_timeout: "3s"
  
# Kafka 配置
kafka:
  brokers: ["localhost:9092"]
  cluster_id: "${KAFKA_CLUSTER_ID_STANDALONE}"
  num_partitions: 3
  default_replication_factor: 1
  offsets_topic_replication_factor: 1
  transaction_state_log_replication_factor: 1
  transaction_state_log_min_isr: 1
  heap_opts: "-Xmx1G -Xms1G"

# PostgreSQL 配置
postgres:
  host: "localhost"
  port: 5432
  user: "${POSTGRES_USER}"
  password: "${POSTGRES_PASSWORD}"
  dbname: "${POSTGRES_DB}"
  sslmode: "disable"
  max_connections: 50
  shared_buffers: "256MB"
  work_mem: "64MB"
  log_min_messages: "WARNING"
  log_min_duration_statement: 1000

# Logging Configuration
clog:
  level:       "info"
  format:      "console"
  output:      "stdout"
  enable_color: false
  add_source:  true
  source_root: "genesis"